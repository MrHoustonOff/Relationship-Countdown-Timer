<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Relationship Countdown Timer</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js"></script>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>

    </head>

<body x-data @alpine:initialized="$store.app.init()" x-show="$store.app.ui.isLoaded" style="display: none;">

    <template x-if="$store.app.config">
        <main class="app-main">
            <h1>Тест Реактивности (Шаг 1):</h1>
            <p>Название страницы (пока заглушка): <strong style="color: var(--color-accent-primary);">Главная</strong></p>
            <p>Ниже ты должен увидеть *весь* загруженный store (конфиг и ui):</p>

            <pre style="background-color: #222; padding: 10px; border-radius: 8px; border: 1px solid var(--color-divider); font-size: 12px; max-height: 500px; overflow-y: auto;"
                 x-text="JSON.stringify($store.app, null, 2)">
            </pre>
        </main>
    </template>

    <template x-if="$store.app.ui.error">
         <div class="critical-error-fallback">
            <h2>Критическая ошибка (v2.0)</h2>
            <pre x-text="$store.app.ui.error"></pre>
        </div>
    </template>

</body>
</html>